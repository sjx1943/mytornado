### 后台管理功能（`/admin/dashboard`）测试方案

#### **测试目标**
验证管理员后台的商品管理功能是否符合预期，包括数据展示的准确性、操作的正确性以及权限控制的有效性。

---

#### **测试用例 (Test Cases)**

| 测试模块 | 测试点 | 操作步骤 | 预期结果 |
| :--- | :--- | :--- | :--- |
| **1. 权限与访问** | **1.1 非管理员访问** | 1. 退出登录。<br>2. 注册并登录一个**普通用户**账号。<br>3. 在浏览器地址栏直接访问 `/admin/dashboard`。 | 页面应自动跳转到登录页 (`/login`) 或显示无权限提示，**绝不能**成功进入后台页面。 |
| | **1.2 管理员访问** | 1. 使用账号 `sjx1943` 和您设定的密码登录。<br>2. 访问 `/admin/dashboard`。 | 成功进入管理员后台页面，页面标题应为“管理员仪表盘”或类似字样。 |
| **2. 数据展示** | **2.1 “已删除”商品列表** | 1. 以**普通用户**身份登录。<br>2. 发布一个新商品，然后在其个人主页将其**删除**（软删除）。<br>3. 以**管理员**身份登录并访问 `/admin/dashboard`。 | 1. 列表中应**准确显示**刚刚被软删除的商品。<br>2. 列表**不应包含**任何“在售”或“已下架”状态的商品。 |
| | **2.2 空状态显示** | 1. 确保数据库中没有任何商品的 `status` 为 `已删除`。<br>2. 以管理员身份访问 `/admin/dashboard`。 | 页面应清晰地提示“没有已删除的商品”或类似信息，而不是显示空白或报错。 |
| **3. 核心功能** | **3.1 永久删除商品（高风险）** | 1. 在后台页面找到一个测试商品。<br>2. 点击该商品对应的“**永久删除**”按钮。<br>3. 在弹出的确认框中点击“确定”。 | 1. 页面刷新后，该商品应从列表中消失。<br>2. 数据库中该商品的记录已被**物理删除**。<br>3. 如果该商品有关联订单，系统应提示“无法删除”并阻止操作。 |
| | **3.2 永久删除的权限** | 1. 以**普通用户**身份登录。<br>2. （技术操作）尝试通过开发者工具或API工具向 `PhysicalDeleteProductHandler` 的接口发送一个POST请求，意图删除某个商品。 | 请求应失败，并返回 `403 Forbidden` 或“权限不足”的错误信息。 |

---

#### **测试建议**
*   **准备测试数据**: 在测试前，建议您先创建几个测试商品，并将其中一两个的状态设置为“已删除”，以确保后台有数据可供展示和操作。
*   **关注开发者工具**: 在测试时，可以打开浏览器的开发者工具（通常按 F12），关注“网络(Network)”和“控制台(Console)”选项卡。这有助于您实时查看API请求的响应状态和可能出现的错误信息。
